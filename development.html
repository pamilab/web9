<!DOCTYPE html>
<html lang="en"> 
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Development Process - FMCW-GPR</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
/* STEP BACKGROUND */
.step-section{position:relative;margin-bottom:3rem;border-radius:1rem;overflow:hidden;box-shadow:0 10px 25px rgba(0,0,0,0.15)}
.step-bg{position:absolute;inset:0;z-index:0}
.step-bg img{width:100%;height:100%;object-fit:cover}
.step-overlay{position:absolute;inset:0;background:rgba(2,6,23,0.75)}

/* GLASS PANEL */
.glass{background:rgba(255,255,255,0.9);backdrop-filter:blur(8px)}

/* COLLAPSIBLE PANEL */
.panel{max-height:0;overflow:hidden;transition:max-height 0.6s ease}
.panel.open{max-height:5000px}

/* IMAGE + TEXT LAYOUT */
.step-card{display:flex;gap:1.5rem;margin-bottom:1.5rem;align-items:center}
.img-box{flex:0 0 40%;height:240px;display:flex;align-items:center;justify-content:center}
.img-box img{width:100%;height:100%;object-fit:contain}
.step-text{flex:1}

@media(max-width:768px){
  .step-card{flex-direction:column}
  .img-box{width:100%;height:220px}
}

/* PREVIEW PLACEHOLDER */
img{background:linear-gradient(135deg,#1e293b,#334155);border-radius:0.5rem}
</style>
</head>

<body class="bg-slate-100">

<!-- NAVIGATION -->
<nav class="bg-slate-900 text-white shadow-lg sticky top-0 z-50">
  <div class="container mx-auto px-6 py-4 flex justify-between items-center">
    <a href="index.html" class="text-xl font-bold text-blue-400">FMCW-GPR</a>
    <div class="hidden md:flex space-x-8">
      <a href="index.html">Home</a>
      <a href="problem-approach.html">Approach</a>
      <a href="development.html" class="text-blue-400 font-semibold">Development</a>
      <a href="results.html">Results</a>
      <a href="applications.html">Applications</a>
    </div>
  </div>
</nav>

<!-- FULL-WIDTH HEADER -->
<header class="relative h-72 flex items-center justify-center text-center text-white">

  <!-- Background Image -->
  <img src="images/hardw.jpg"
       alt="FMCW GPR Background"
       class="absolute inset-0 w-full h-full object-cover">

  <!-- Dark Overlay -->
  <div class="absolute inset-0 bg-slate-900/70"></div>

  <!-- Text -->
  <div class="relative z-10 px-6">
    <h1 class="text-3xl md:text-4xl font-bold mb-2">
      Development Process – FMCW-GPR Research
    </h1>
    <p class="text-slate-300 max-w-2xl mx-auto">
      System design, signal processing, and validation from concept to field testing.
    </p>
  </div>

</header>



</main>

</body>
</html>

  <main class="max-w-7xl mx-auto px-6 py-12">
<!-- STEP 1 -->
<section class="step-section">
  <div class="step-bg">
    <img src="images/conceptplanning.jpg">
    <div class="step-overlay"></div>
  </div>

  <div class="relative z-10 p-8 text-white">
    <div class="flex justify-between items-center">
      <h2 class="text-2xl font-bold">1. SYSTEM OVERVIEW</h2>
      <button onclick="togglePanel('step1',this)" class="text-2xl">▼</button>
    </div>

    <!-- PANEL START -->
    <div id="step1" class="panel glass rounded-xl p-6 mt-6 text-slate-800 space-y-6">

      <!-- IMAGE -->
      <div class="img-box">
        <img src="images/blockdiag.jpg"
             class="cursor-zoom-in"
             onclick="openImage(this)">
      </div>

      <!-- DESCRIPTION -->
      <div class="step-text">
        <p class="text-sm text-slate-600">
          The FMCW-GPR system architecture consists of a signal generation unit,
          transmit and receive antennas, a signal processing module, and a data
          acquisition system. This configuration enables continuous-wave frequency
          modulation, allowing accurate subsurface target detection and range profiling.
        </p>
      </div>

      <!-- TABLE -->
      <div class="overflow-x-auto">
        <table class="w-full border border-slate-300 text-sm rounded-lg overflow-hidden">
          <thead class="bg-slate-800 text-white">
            <tr>
              <th class="px-4 py-2">Parameter</th>
              <th class="px-4 py-2">Specification</th>
              <th class="px-4 py-2">Rationale</th>
            </tr>
          </thead>
          <tbody>
            <tr class="border-t">
              <td class="px-4 py-2 font-semibold">Center Frequency</td>
              <td class="px-4 py-2">125&nbsp;MHz</td>
              <td class="px-4 py-2">
                Provides sufficient depth resolution for shallow subsurface target
                discrimination while remaining compatible with SDR constraints.
              </td>
            </tr>

            <tr class="border-t bg-slate-50">
              <td class="px-4 py-2 font-semibold">Bandwidth</td>
              <td class="px-4 py-2">≈ 2.4&nbsp;GHz</td>
              <td class="px-4 py-2">
                Balances penetration depth and spatial resolution while allowing
                license-free operation and use of available RF components.
              </td>
            </tr>

            <tr class="border-t">
              <td class="px-4 py-2 font-semibold">Chirp Rate</td>
              <td class="px-4 py-2">500&nbsp;Hz</td>
              <td class="px-4 py-2">
                Determines the beat frequency after mixing, enabling depth estimation
                through frequency-to-range mapping.
              </td>
            </tr>

            <tr class="border-t bg-slate-50">
              <td class="px-4 py-2 font-semibold">Antenna Characteristics</td>
              <td class="px-4 py-2">Yagi-Uda</td>
              <td class="px-4 py-2">
                Required to support wideband FMCW operation and efficient coupling of
                electromagnetic energy into the ground.
              </td>
            </tr>

            <tr class="border-t">
              <td class="px-4 py-2 font-semibold">Signal Processing</td>
              <td class="px-4 py-2">STFT</td>
              <td class="px-4 py-2">
                Enables time–frequency analysis for depth estimation and radargram generation.
              </td>
            </tr>
          </tbody>
        </table>
      </div>

    </div>
    <!-- PANEL END -->

  </div>
</section>

<!-- STEP 2 -->
<section class="step-section">
  <div class="step-bg">
    <img src="images/desimulatin.jpg">
    <div class="step-overlay"></div>
  </div>

  <div class="relative z-10 p-8 text-white">
    <div class="flex justify-between items-center">
      <h2 class="text-2xl font-bold">2. DESIGN</h2>
      <button onclick="togglePanel('step2',this)" class="text-2xl">▼</button>
    </div>

    <div id="step2" class="panel glass rounded-xl p-6 mt-6 text-slate-800">

      <!-- HORIZONTAL IMAGE SERIES -->
      <div class="flex flex-col md:flex-row gap-8">

        <!-- IMAGE 1 -->
        <div class="flex-1 text-center">
          <div class="img-box mx-auto">
            <img src="images/rf.jpg">
          </div>
          <div class="step-text mt-4">
            <h4 class="font-semibold">RF Component Assembly</h4>
            <p class="text-sm text-slate-600">
             The RF components were carefully interconnected to
establish the complete signal path of the radar system. Each component was
connected according to the designed configuration, ensuring proper alignment
and continuity of the signals 
            </p>
          </div>
        </div>

        <!-- IMAGE 2 -->
        <div class="flex-1 text-center">
          <div class="img-box mx-auto">
            <img src="images/rd2.jpg">
          </div>
          <div class="step-text mt-4">
            <h4 class="font-semibold">RF Signal Path Validation</h4>
            <p class="text-sm text-slate-600">
              Every high-frequency connection uses standard SMA connectors using 50-ohm impedance-matched devices. Each RF connection was verified to ensure proper signal continuity and impedance matching. 

            </p>
          </div>
        </div>

      </div>

    </div>
  </div>
</section>


<!-- STEP 3 -->
<section class="step-section">
  <div class="step-bg"><img src="images/hardw.jpg"><div class="step-overlay"></div></div>
  <div class="relative z-10 p-8 text-white"><div class="flex justify-between items-center"><h2 class="text-2xl font-bold">3. COMPONENTS INTEGRATION</h2><button onclick="togglePanel('step3',this)" class="text-2xl">▼</button></div>
    <div id="step3" class="panel glass rounded-xl p-6 mt-6 text-slate-800"><div class="step-card">
      <div class="img-box"><img src="images/hardware integ.jpg">
      </div><div class="step-text"><p class="text-sm text-slate-600">The assembled RF components were initially found to be unstable without a proper mounting base. Since these components are fragile and prone to damage during handling and testing, the researchers integrated all RF modules onto an acrylic platform.</p></div></div></div>
  </div>
</section>

<!-- STEP 4 -->
<section class="step-section">
  <div class="step-bg">
    <img src="images/tesv.jpg">
    <div class="step-overlay"></div>
  </div>

  <div class="relative z-10 p-8 text-white">
    <div class="flex justify-between items-center">
      <h2 class="text-2xl font-bold">4. SYSTEM COMPONENTS AND SIGNAL FLOW</h2>
      <button onclick="togglePanel('step4',this)" class="text-2xl">▼</button>
    </div>

    <div id="step4" class="panel glass rounded-xl p-6 mt-6 text-slate-800">

      <!-- FIRST CARD -->
      <div class="step-card">
        <div class="img-box">
          <img src="images/comptest.jpg">
        </div>
        <div class="step-text">
          <h4 class="font-semibold">Component Testing</h4>
          <p class="text-sm text-slate-600">
            After mounting the components onto the acrylic platform, the researchers conducted tests on the parameters and frequency response of each RF component. These tests ensured proper operation, verified the continuity of the signal path, minimized potential confusion, and reduced the need for additional troubleshooting.
          </p>
        </div>
      </div>

<!-- SECOND + LAST IMAGE (ALIGNED UNDER FIRST IMAGE) -->
<div class="mt-6" style="width:60%">
  <div class="flex flex-col md:flex-row gap-6">
    <div class="img-box">
      <img src="images/tesy.png">
    </div>

    <div class="img-box">
      <img src="images/twe.jpg">
    </div>
  </div>
</div>

    </div>
  </div>
</section>

<!-- STEP 5 -->
<section class="step-section">
  <div class="step-bg"><img src="images/softwaredev.jpg"><div class="step-overlay"></div></div>
  <div class="relative z-10 p-8 text-white"><div class="flex justify-between items-center"><h2 class="text-2xl font-bold">5. INTEGRATION OF SIGNAL PROCESSING UNIT</h2><button onclick="togglePanel('step5',this)" class="text-2xl">▼</button></div>
    <div id="step5" class="panel glass rounded-xl p-6 mt-6 text-slate-800">
      <div class="step-card"><div class="img-box"><img src="images/sttft.jpg"></div><div class="step-text"><h4 class="font-semibold">STFT Analysis</h4><p class="text-sm text-slate-600">The Short-Time Fourier Transform (STFT) analyzes how a signal’s frequency changes over time. In FMCW radar, it is applied to the beat signal to track time-varying frequencies caused by moving or multiple targets, enabling analysis of target distance and dynamic behavior.</p></div></div>
      <div class="step-card"><div class="img-box"><img src="images/cpu.jpg"></div><div class="step-text"><h4 class="font-semibold">Central Processing Unit</h4><p class="text-sm text-slate-600">An x86-based mini PC was incorporated into the acrylic platform to function as the primary unit for signal processing and data acquisition. This integration enabled the system to process the radar signals and record the measurements efficiently.</p></div></div>
      <div class="step-card"><div class="img-box"><img src="images/hamming.jpg"></div><div class="step-text"><h4 class="font-semibold">Hamming Window</h4><p class="text-sm text-slate-600">The Hamming window is a mathematical function used in FMCW-GPR System. It is applied to the beat signal before performing the Fourier Transform to reduce spectral leakage, which can distort the frequency analysis of the signal.</p></div></div>
      <div class="step-card"><div class="img-box"><img src="images/hackrf.jpg"></div><div class="step-text"><h4 class="font-semibold">SDR Digitization</h4><p class="text-sm text-slate-600">The ADC on this SDR is used to digitize the beat frequency only and other functions will not be used. The sampling rate will be maximized and the Nyquist limit will be reached at maximum modulating frequency since it is using sampling. The USB will carry 1.28Gbps at 20MSPS sampling rate using complex64 data type which contains 32 bits each of I and Q samples. This was chosen because it is the cheapest available digitizer with very high sampling rate, increasing the bandwidth limits, hence range resolution.</p></div></div>
    </div>
  </div>
</section>

<!-- STEP 6 -->
<section class="step-section">
  <div class="step-bg"><img src="images/acry.jpg"><div class="step-overlay"></div></div>
  <div class="relative z-10 p-8 text-white"><div class="flex justify-between items-center"><h2 class="text-2xl font-bold">6. RADAR FRAME CONSTRUCTION</h2><button onclick="togglePanel('step6',this)" class="text-2xl">▼</button></div>
    <div id="step6" class="panel glass rounded-xl p-6 mt-6 text-slate-800"><p class="text-sm text-slate-600">With all essential components in place, the researchers proceeded to assemble the main frame of the radar system. This step allowed for initial performance testing and the collection of preliminary results, providing insight into the overall system functionality.</p><div class="img-box mx-auto"><img src="images/frame.jpg"></div><p class="text-sm text-slate-600">After reviewing the initial results, the researchers constructed the final radar frame to evaluate whether the system would maintain its performance when the antenna was oriented according to the planned configuration.</p></div>
  </div>
</section>

<!-- STEP 7 -->
<section class="step-section">
  <div class="step-bg"><img src="images/golung.jpg"><div class="step-overlay"></div></div>
  <div class="relative z-10 p-8 text-white"><div class="flex justify-between items-center"><h2 class="text-2xl font-bold">7. UGV INTEGRATION</h2><button onclick="togglePanel('step7',this)" class="text-2xl">▼</button></div>
    <div id="step7" class="panel glass rounded-xl p-6 mt-6 text-slate-800"><div class="step-card"><div class="img-box"><img src="images/golung2.jpg"></div><div class="step-text"><p class="text-sm text-slate-600">In this phase, the FMCW-GPR system was integrated with an Unmanned Ground Vehicle (UGV) to enable automated and consistent lateral scanning. The integration ensured stable mounting, controlled movement, and synchronized operation between the radar system and the motorized platform, reducing human-induced measurement variability.</p></div></div></div>
  </div>
</section>

<!-- STEP 8 -->
<section class="step-section">
  <div class="step-bg">
    <img src="images/analys.jpg">
    <div class="step-overlay"></div>
  </div>

  <div class="relative z-10 p-8 text-white">
    <div class="flex justify-between items-center">
      <h2 class="text-2xl font-bold">8. FIELD TESTING</h2>
      <button onclick="togglePanel('step8',this)" class="text-2xl">▼</button>
    </div>

    <div id="step8" class="panel glass rounded-xl p-8 mt-6 text-slate-800">

      <!-- Horizontal Image Series -->
      <div class="flex flex-col md:flex-row gap-12 justify-center">

        <!-- Image 1 -->
        <div class="flex-1 text-center">
          <div class="h-80 flex items-center justify-center mb-5">
            <img src="images/testi.jpg"
                 class="object-contain h-full w-full transition-transform duration-300 hover:scale-105">
          </div>
          <div class="step-text max-w-lg mx-auto">
            <h4 class="font-semibold">Lateral Position</h4>
            <p class="text-sm text-slate-600 mt-3">
              Controlled test environment with embedded metallic object.
            </p>
          </div>
        </div>

        <!-- Image 2 -->
        <div class="flex-1 text-center">
          <div class="h-80 flex items-center justify-center mb-5">
            <img src="images/combi.jpg"
                 class="object-contain h-full w-full transition-transform duration-300 hover:scale-105">
          </div>
          <div class="step-text max-w-lg mx-auto">
            <h4 class="font-semibold">Static Position</h4>
            <p class="text-sm text-slate-600 mt-3">
              Depth estimation accuracy at 29 cm and 72 cm using manual measurement and the FMCW-GPR System.
            </p>
          </div>
        </div>

      </div>
      <!-- End Horizontal Series -->

    </div>
  </div>
</section>



<!-- DEVELOPMENT PHASES – DOCUMENTATION -->
<section class="bg-white rounded-xl shadow p-6 mt-10">
  <h2 class="text-2xl font-bold mb-6 text-slate-800">
    Development Phases (Documentation)
  </h2>

  <!-- CLICKABLE BOXES -->
  <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    <button onclick="openPopup('popup1')" class="doc-btn">Concept & Planning</button>
    <button onclick="openPopup('popup2')" class="doc-btn">Design</button>
    <button onclick="openPopup('popup3')" class="doc-btn">Hardware Integration</button>
    <button onclick="openPopup('popup4')" class="doc-btn">Software Development</button>
  </div>
</section>

<!-- POPUP OVERLAY -->
<div id="popupOverlay" class="popup-overlay" onclick="closePopup(event)">

  <!-- POPUP 1 -->
  <div id="popup1" class="popup-panel">
    <h3 class="popup-title">Concept & Planning</h3>
    <div class="popup-grid">
      <div>
        <img src="images/c1 (5).jpg" class="popup-img">
      </div>
      <div>
        <img src="images/c1 (3).jpg" class="popup-img">
      </div>
      <div>
        <img src="images/c1 (1).jpg" class="popup-img">
      </div>
    </div>
  </div>

 <!-- POPUP 2 -->
<div id="popup2" class="popup-panel">
  <h3 class="popup-title">Design</h3>
<div><h4 class="font-bold">COMPONENT USED:</h4><div>
  <div class="popup-grid">

    <div>
      <img src="images/motor.jpg" class="popup-img">
      <p class="popup-caption">Motor</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/monitor.jpg" class="popup-img">
      <p class="popup-caption">Monitor</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/bandpass.jpg" class="popup-img">
      <p class="popup-caption">Bandpass Filter</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/lna.jpg" class="popup-img">
      <p class="popup-caption">Low Noise Amplifier (LNA)</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/lm741.jpg" class="popup-img">
      <p class="popup-caption">LM741 Op-Amp</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/boostconv.jpg" class="popup-img">
      <p class="popup-caption">Boost Converter</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/atten.jpg" class="popup-img">
      <p class="popup-caption">Attenuator</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/dcoupler.jpg" class="popup-img">
      <p class="popup-caption">Directional Coupler</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/mixer.jpg" class="popup-img">
      <p class="popup-caption">Mixer</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/signalgen.jpg" class="popup-img">
      <p class="popup-caption">Signal Generator</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/makergo-esp32c3-supermini.jpg" class="popup-img">
      <p class="popup-caption">ESP32-C3 SuperMini</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/vco.jpg" class="popup-img">
      <p class="popup-caption">Voltage-Controlled Oscillator (VCO)</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/hackrffff.jpg" class="popup-img">
      <p class="popup-caption">HackRF One</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/poweramp.jpg" class="popup-img">
      <p class="popup-caption">Power Amplifier</p>
      <p class="popup-desc"></p>
    </div>

    <div>
      <img src="images/yagiuda.jpg" class="popup-img">
      <p class="popup-caption">Yagi-Uda Antenna</p>
      <p class="popup-desc"></p>
    </div>

  </div>
</div>
<!-- POPUP 3 -->
<div id="popup3" class="popup-panel">
  <h3 class="popup-title">Hardware Integration</h3>

  <!-- BLOCK DIAGRAM -->
  <h4 class="font-bold mb-4">SYSTEM BLOCK DIAGRAM</h4>
  <div class="popup-grid">

    <div>
      <img src="images/blockdiag.jpg" class="popup-img">
    </div>

  </div>

  <!-- ASSEMBLY -->
  <h4 class="font-bold mt-8 mb-4">ASSEMBLY PROCESS</h4>
  <div class="popup-grid">

    <div>
      <img src="images/BUTAS.jpg" class="popup-img">
    </div>

    <div>
      <img src="images/1asmbly.jpg" class="popup-img">
    </div>

    <div>
      <img src="images/2asmbly.jpg" class="popup-img">
    </div>

    <div>
      <img src="images/3asmbly.jpg" class="popup-img">
    </div>

    <div>
      <img src="images/4asmbly.jpg" class="popup-img">
    </div>

    <div>
      <img src="images/5asmbly.jpg" class="popup-img">
    </div>

    <div>
      <img src="images/6asmbly.jpg" class="popup-img">
    </div>

  </div>
</div>





  <!-- POPUP 4 -->
  <div id="popup4" class="popup-panel">
    <h3 class="popup-title">Software Development</h3>
    <div class="popup-grid">
      <div>
        <img src="images/img5.jpg" class="popup-img">
        <p class="popup-caption">Signal processing</p>
      </div>
    </div>
  </div>

</div>

</section>


<!-- STYLES -->
<style>
.doc-btn{
  background:#bae6fd;
  padding:1.5rem;
  border-radius:0.75rem;
  font-weight:600;
  transition:.3s;
}
..doc-btn{
  background:#bae6fd;
  padding:1.5rem;
  border-radius:0.75rem;
  font-weight:600;
  transition:.25s;
}
.doc-btn:hover{ background:#7dd3fc }

/* OVERLAY */
.popup-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

/* POPUP PANEL */
.popup-panel{
  background:#fff;
  border-radius:1.25rem;
  padding:2rem;
  width:90%;
  max-width:900px;
  max-height:85vh;
  overflow-y:auto;
  transform:scale(.85);
  opacity:0;
  transition:all .3s ease;
  display:none;
}

.popup-panel.active{
  display:block;
  transform:scale(1);
  opacity:1;
}

.popup-title{
  font-size:1.25rem;
  font-weight:700;
  margin-bottom:1.25rem;
}

/* IMAGE GRID – MAX 4 PER ROW */
.popup-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
  gap:1.5rem;
}

.popup-img{
  width:100%;
  height:180px;
  object-fit:contain;
}

.popup-caption{
  text-align:center;
  font-size:.85rem;
  color:#475569;
  margin-top:.5rem;
}
</style>

<!-- SCRIPT -->
<script>
function toggleDoc(id) {
  document.getElementById(id).classList.toggle("open");
}
</script>


</main>

    <!-- Footer -->
<footer class="bg-slate-900 text-slate-400 py-12 border-t border-slate-800 mt-auto">
     <div class="container mx-auto px-6 text-center">
        <div class="mb-6">
         <p class="text-white font-semibold mb-2">Developed by: Omicropade</p>
             <p>BS Electronics Engineering</p>
             <p>Rizal Technological University</p>
        </div>
         <p class="text-sm opacity-75">© 2025 FMCW-GPR Research Project. All rights reserved.</p>
        </div>
</footer>
<script>
function openDoc(event,id){
  event.stopPropagation();

  // close all panels
  document.querySelectorAll('.doc-panel')
    .forEach(p => p.classList.remove('active'));

  // open selected panel
  document.getElementById(id).classList.add('active');
}

// close when clicking outside
document.addEventListener('click', function(e){
  const section = document.getElementById('devDocs');
  if (!section.contains(e.target)){
    document.querySelectorAll('.doc-panel')
      .forEach(p => p.classList.remove('active'));
  }
});
</script>
<script>
function togglePanel(id,btn){const panel=document.getElementById(id);document.querySelectorAll('.panel').forEach(p=>{if(p!==panel){p.classList.remove('open');p.style.maxHeight=null}});if(panel.classList.contains('open')){panel.classList.remove('open');panel.style.maxHeight=null}else{panel.classList.add('open');panel.style.maxHeight=panel.scrollHeight+'px';panel.scrollIntoView({behavior:'smooth',block:'nearest'})}}
</script>
<!-- IMAGE MODAL -->
<div id="imageModal"
     class="fixed inset-0 bg-black/80 hidden items-center justify-center z-[999]"
     onclick="closeImage()">

  <img id="modalImg"
       class="max-w-[90%] max-h-[90%] rounded-lg shadow-2xl transition-transform duration-300 scale-95">
</div>
<script>
  function openImage(img) {
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImg');

    modalImg.src = img.src;
    modal.classList.remove('hidden');
    modal.classList.add('flex');

    setTimeout(() => {
      modalImg.classList.remove('scale-95');
      modalImg.classList.add('scale-100');
    }, 10);
  }

  function closeImage() {
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImg');

    modalImg.classList.remove('scale-100');
    modalImg.classList.add('scale-95');

    setTimeout(() => {
      modal.classList.add('hidden');
      modal.classList.remove('flex');
    }, 200);
  }
</script>
<script>
function openPopup(id){
  document.getElementById('popupOverlay').style.display = 'flex';

  document.querySelectorAll('.popup-panel')
    .forEach(p => p.classList.remove('active'));

  document.getElementById(id).classList.add('active');
}

function closePopup(e){
  if(e.target.id === 'popupOverlay'){
    document.getElementById('popupOverlay').style.display = 'none';
    document.querySelectorAll('.popup-panel')
      .forEach(p => p.classList.remove('active'));
  }
}
</script>
</body>
</html>
